<!-- ======================================================== -->
<!-- TICKETS SCREEN -->
<!-- ======================================================== -->

<div class="row p-2 animated fadeIn">

    <div class="col-md-6" style="min-width: 18rem;">

        <!-- ======================================================== -->
        <!-- SU TURNO -->
        <!-- ======================================================== -->

        <div class="card text-white bg-success mb-4" *ngIf="ticketsService.myTicket">
            <div class="card-header banner-title">SU TURNO</div>
            <div class="banner-content" style="background-color: rgb(51, 141, 51)">

                <!------------------------------>
                <!-- EN ESPERA -->
                <!------------------------------>

                <div *ngIf="!ticketsService.myTicket?.id_desk">
                    <span class="xxxxl">
                        {{ ticketsService.myTicket?.id_skill.cd_skill }}
                        {{ ticketsService.myTicket?.cd_number }}
                    </span>
                </div>

                <!------------------------------>
                <!-- EN ATENCIÃ“N -->
                <!------------------------------>

                <div class="banner-content" *ngIf="ticketsService.myTicket?.id_desk">
                    <div class="row">
                        <div class="col">
                            Por favor pase por el escritorio
                        </div>
                    </div>
                    <div class="row">
                        <div class="col xxxxl">
                            {{ ticketsService.myTicket?.cd_desk }}
                        </div>
                    </div>
                </div>

                <!------------------------------>
                <!-- FINALIZADO -->
                <!------------------------------>

                <div *ngIf="!ticketsService.myTicket && ticketsService.myTicket_end" class="banner-content">
                    <div class="container">
                        <div class="text-white my-4 py-2">Su turno ha finalizado</div>
                    </div>
                </div>
            </div>
        </div>


        <!-- ======================================================== -->
        <!-- ULTIMO TURNO -->
        <!-- ======================================================== -->

        <div class="card text-white bg-danger mb-4">
            <div class="card-header banner-title">ULTIMO TURNO</div>
            <div class="banner-content" style="background-color: rgb(141, 51, 51)">

                <div *ngIf="!ticketsService.lastTicket">
                    <span class="xxxxl">
                        --
                        --
                    </span>
                </div>
                <div>
                    <span class="xxxxl">
                        {{ ticketsService.lastTicket?.id_skill.cd_skill }}
                        {{ ticketsService.lastTicket?.cd_number }}
                    </span>
                </div>

            </div>
        </div>

        <!-- ======================================================== -->
        <!-- PUBLICIDAD -->
        <!-- ======================================================== -->

        <div>
            <!-- <iframe width="100%" height="480px" [src]="'-FV0KKDdysw?rel=0&autoplay=1&mute=0&fullscreen=1&loop=1&playlist=-FV0KKDdysw' | domseguro: 'https://www.youtube.com/embed/'" frameborder="0" allowtransparency="true" allow="accelerometer; autoplay; loop; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> -->
        </div>

    </div>

    <div class="col-md-6" style="min-width: 18rem;">

        <!-- ======================================================== -->
        <!-- HISTORIAL DE LLAMADAS -->
        <!-- ======================================================== -->

        <div class="card text-white bg-primary mb-4">
            <div class="card-header banner-title">HISTORIAL DE LLAMADOS</div>

            <div class="card-body card-tickets-info table-responsive-sm" style="background-color: rgb(54, 77, 194)">

                <table class="table table text-white text-center" style="font-size: x-large;">

                    <tr>
                        <td> Turno </td>
                        <td> Escritorio</td>
                        <td> Estado </td>
                    </tr>
                    <tr *ngIf="ticketsService.ticketsTail.length === 0">
                        <td>--</td>
                        <td>--</td>
                        <td>--</td>
                    </tr>
                    <tr *ngFor="let ticket of ticketsService.ticketsTail;">
                        <td style="text-align: center;">
                            {{ ticket.id_skill.cd_skill }}{{ ticket.cd_number }}</td>

                        <td style="text-align: center; ">{{ ticket.id_desk.cd_desktop }}</td>

                        <td style="padding: 0; vertical-align: middle;">
                            <span *ngIf="!ticket.tm_end" style="color: greenyellow">
                                <mat-icon>campaign</mat-icon>
                            </span>
                            <span *ngIf="ticket.id_child && ticket.tm_end" style="color: greenyellow">
                                <mat-icon>replay</mat-icon>
                            </span>
                            <span *ngIf="!ticket.id_child && ticket.tm_end" style="color: greenyellow">
                                <mat-icon>check</mat-icon>
                            </span>
                        </td>
                    </tr>

                </table>

            </div>
        </div>

    </div>

</div>

<!-- ======================================================== -->
<!-- PUBLIC BUTTONS -->
<!-- ======================================================== -->

<div class="row">
    <div class="col">

        <div *ngIf="ticketsService.myTicket" class="text-center footer-panel">
            <button class="btn btn-danger text-uppercase m-2" (click)="cancelTicket()">Cancelar Turno</button>
            <button [disabled]="!ticketsService.myTicket?.id_desk || coming" class="btn btn-success text-uppercase m-2"
                (click)="enCamino()">en camino</button>
        </div>

    </div>
</div>